backend:
  name: git-gateway
  branch: main # or "master" if your repo uses that

media_folder: 'src/assets/img/blog'
public_folder: '/assets/img/blog'

collections:
  - name: 'blog'
    label: 'Blog Posts'
    label_singular: 'Blog Post'
    description: 'Manage all blog articles displayed on the site.'
    format: 'json'

    files:
      - file: 'src/_data/blog.json'
        label: 'Blog Data'
        name: 'blog'
        fields:
          - { label: 'Title', name: 'title', widget: 'string' }

          - label: 'Posts'
            name: 'posts'
            widget: 'list'
            slug: '{{title}}' # ✅ FIXED: now a valid string template
            fields:
              - label: 'ID'
                name: 'id'
                widget: 'string'
                default: '{{slug}}' # ✅ auto-fills ID from title slug
                hint: 'Auto-generated from title (can be edited if needed)'
              - { label: 'Title', name: 'title', widget: 'string' }
              - { label: 'Date', name: 'date', widget: 'datetime', format: 'MMMM DD, YYYY' }
              - { label: 'Author', name: 'author', widget: 'string', default: 'Team ChemGuard' }
              - { label: 'Image', name: 'image', widget: 'image' }
              - label: 'Content'
                name: 'content'
                widget: 'list'
                summary: '{{fields.paragraph}}'
                field:
                  label: 'Paragraph'
                  name: 'paragraph'
                  widget: 'text'
